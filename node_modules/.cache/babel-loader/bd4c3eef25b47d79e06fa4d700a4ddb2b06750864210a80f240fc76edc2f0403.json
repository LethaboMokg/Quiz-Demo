{"ast":null,"code":"var _jsxFileName = \"/home/gugu/Momentum/Quiz-Demo/src/Pages/Quiz.js\",\n  _s = $RefreshSig$();\nimport \"./Quiz.css\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, ref, set, get, child, DataSnapshot } from \"firebase/database\";\nimport usePromise from \"react-promise\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet form = {};\nlet quizAnswers = {};\nlet userName = \"\";\nlet score = 0;\nfunction handleChange(e) {\n  const {\n    id,\n    value\n  } = e.target;\n  form[id] = value;\n}\nfunction saveUserData() {\n  const uid = getAuth().currentUser.uid;\n  const db = getDatabase();\n  set(ref(db, `QuizData/${uid}/answers/`), quizAnswers);\n  set(ref(db, `QuizData/${uid}/quizScore/`), {\n    \"score\": score\n  });\n  set(ref(db, `Users/${uid}/`), {\n    \"name\": userName\n  });\n}\nwindow.addEventListener(\"change \", () => {});\nfunction Quiz() {\n  _s();\n  let currentQuiz = 0;\n\n  // console.log(getAuth().currentUser.uid)\"\"\n\n  let currentQuestion = \"Current questions\";\n  // const uid = getAuth().currentUser.uid;\n\n  const dbRef = ref(getDatabase());\n  const [error, setError] = useState(false);\n  const [state, setState] = useState('');\n  useEffect(() => {\n    setState(\"loading\");\n    get(child(dbRef, `QuizData/9Y8uVMeU2EYZN82pZoaeTnoVcRF3/answers`)).then(snapshot => {\n      console.log(res);\n      if (snapshot.exists) {\n        setState(snapshot);\n      } else {\n        setState('success');\n      }\n    }).catch(err => {\n      console.error('Error:', err);\n      setState('error');\n      setError(err);\n    });\n  }, []);\n  if (state === \"error\") {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }, this);\n  } else {\n    if (state === \"success\") {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  }\n}\n_s(Quiz, \"v2ouDPKvOebfAIxRpdsFCbHS/Ws=\");\n_c = Quiz;\nexport default Quiz;\nvar _c;\n$RefreshReg$(_c, \"Quiz\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","getAuth","getDatabase","ref","set","get","child","DataSnapshot","usePromise","form","quizAnswers","userName","score","handleChange","e","id","value","target","saveUserData","uid","currentUser","db","window","addEventListener","Quiz","currentQuiz","currentQuestion","dbRef","error","setError","state","setState","then","snapshot","console","log","res","exists","catch","err"],"sources":["/home/gugu/Momentum/Quiz-Demo/src/Pages/Quiz.js"],"sourcesContent":["import \"./Quiz.css\"\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from \"react-router-dom\"\nimport { getAuth } from \"firebase/auth\";\nimport { getDatabase, ref, set, get, child, DataSnapshot } from \"firebase/database\";\nimport usePromise from \"react-promise\";\n\n\nlet form = {}\nlet quizAnswers = {}\nlet userName = \"\"\nlet score = 0;\n\n\nfunction handleChange(e) {\n\tconst { id, value } = e.target\n\n\tform[id] = value;\n}\n\nfunction saveUserData() {\n\tconst uid = getAuth().currentUser.uid;\n\tconst db = getDatabase()\n\tset(\n\t\tref(db, `QuizData/${uid}/answers/`), \n\t\tquizAnswers\n\t);\n\tset(\n\t\tref(db, `QuizData/${uid}/quizScore/`), \n\t\t{\n\t\t\t\"score\": score\n\t\t}\n\t);\n\n\tset(\n\t\tref(db, `Users/${uid}/`), \n\t\t{\n\t\t\t\"name\": userName\n\t\t}\n\t);\n\n}\n\nwindow.addEventListener(\"change \", ()=>{\n\t\t\n\n\n})\n\nfunction Quiz() {\n\n\tlet currentQuiz = 0;\n\n\t// console.log(getAuth().currentUser.uid)\"\"\n\n\tlet currentQuestion = \"Current questions\"\n\t// const uid = getAuth().currentUser.uid;\n\t\n\n\tconst dbRef = ref(getDatabase())\n\n\n\tconst [error, setError] = useState(false)\n    const [state, setState] = useState('');\n\n\tuseEffect(()=>{\n\t\tsetState(\"loading\")\n\t\tget(child(dbRef, `QuizData/9Y8uVMeU2EYZN82pZoaeTnoVcRF3/answers`))\n\t\t.then((snapshot)=> {\n\t\t\tconsole.log(res);\n\t\t\tif (snapshot.exists) {\n\t\t\t\tsetState(snapshot)\n\t\t\t} else {\n\t\t\t\tsetState('success');\n\t\t\t}\n\t\t})\n\t\t.catch((err)=> {\n\t\t\tconsole.error('Error:', err);\n            setState('error');\n            setError(err);\n\t\t})\n\t}, []);\n\t\n\n\tif(state === \"error\") {\n\t\treturn (<p>Error</p>);\n\t} else {\n\t\tif (state === \"success\") {\n\t\t\treturn (<></>);\n\t\t}\n\t}\n\n\n\n\t\n}\n\n\nexport default Quiz;\n\n"],"mappings":";;AAAA,OAAO,YAAY;AACnB,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,eAAe;AACvC,SAASC,WAAW,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,KAAK,EAAEC,YAAY,QAAQ,mBAAmB;AACnF,OAAOC,UAAU,MAAM,eAAe;AAAC;AAAA;AAGvC,IAAIC,IAAI,GAAG,CAAC,CAAC;AACb,IAAIC,WAAW,GAAG,CAAC,CAAC;AACpB,IAAIC,QAAQ,GAAG,EAAE;AACjB,IAAIC,KAAK,GAAG,CAAC;AAGb,SAASC,YAAY,CAACC,CAAC,EAAE;EACxB,MAAM;IAAEC,EAAE;IAAEC;EAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;EAE9BR,IAAI,CAACM,EAAE,CAAC,GAAGC,KAAK;AACjB;AAEA,SAASE,YAAY,GAAG;EACvB,MAAMC,GAAG,GAAGlB,OAAO,EAAE,CAACmB,WAAW,CAACD,GAAG;EACrC,MAAME,EAAE,GAAGnB,WAAW,EAAE;EACxBE,GAAG,CACFD,GAAG,CAACkB,EAAE,EAAG,YAAWF,GAAI,WAAU,CAAC,EACnCT,WAAW,CACX;EACDN,GAAG,CACFD,GAAG,CAACkB,EAAE,EAAG,YAAWF,GAAI,aAAY,CAAC,EACrC;IACC,OAAO,EAAEP;EACV,CAAC,CACD;EAEDR,GAAG,CACFD,GAAG,CAACkB,EAAE,EAAG,SAAQF,GAAI,GAAE,CAAC,EACxB;IACC,MAAM,EAAER;EACT,CAAC,CACD;AAEF;AAEAW,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,MAAI,CAIvC,CAAC,CAAC;AAEF,SAASC,IAAI,GAAG;EAAA;EAEf,IAAIC,WAAW,GAAG,CAAC;;EAEnB;;EAEA,IAAIC,eAAe,GAAG,mBAAmB;EACzC;;EAGA,MAAMC,KAAK,GAAGxB,GAAG,CAACD,WAAW,EAAE,CAAC;EAGhC,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACtC,MAAM,CAAC+B,KAAK,EAAEC,QAAQ,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAEzCD,SAAS,CAAC,MAAI;IACbiC,QAAQ,CAAC,SAAS,CAAC;IACnB1B,GAAG,CAACC,KAAK,CAACqB,KAAK,EAAG,+CAA8C,CAAC,CAAC,CACjEK,IAAI,CAAEC,QAAQ,IAAI;MAClBC,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;MAChB,IAAIH,QAAQ,CAACI,MAAM,EAAE;QACpBN,QAAQ,CAACE,QAAQ,CAAC;MACnB,CAAC,MAAM;QACNF,QAAQ,CAAC,SAAS,CAAC;MACpB;IACD,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAG,IAAI;MACdL,OAAO,CAACN,KAAK,CAAC,QAAQ,EAAEW,GAAG,CAAC;MACnBR,QAAQ,CAAC,OAAO,CAAC;MACjBF,QAAQ,CAACU,GAAG,CAAC;IACvB,CAAC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAGN,IAAGT,KAAK,KAAK,OAAO,EAAE;IACrB,oBAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAY;EACrB,CAAC,MAAM;IACN,IAAIA,KAAK,KAAK,SAAS,EAAE;MACxB,oBAAQ,qCAAK;IACd;EACD;AAKD;AAAC,GA9CQN,IAAI;AAAA,KAAJA,IAAI;AAiDb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}